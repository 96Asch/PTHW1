CXX?=g++
OBJECT=test.o
INCLUDE=../lib/include
CFLAGS=-Wall -g
MAKE=make 
LIB=..
LIBP=../lib

all:	lib test 

lib:
	@echo Make library
	@+$(MAKE) -C $(LIBP)

test: $(OBJECT)
	@echo Linking shared library
	$(CXX) $(CFLAGS) -I$(INCLUDE) -L$(LIBP) -o $@ $(OBJECT) -lmine

%.o:	%.cc
	@echo Making $(%).o
	@$(CXX) -I$(INCLUDE) $(CFLAGS) -c -o $@ $<
	@echo Export lib
	export LD_LIBRARY_PATH="../lib"
	
clean:
	@echo Removing $(OBJECT).
	@rm -f *.o $(OBJECT)
	@+$(MAKE) -C $(LIBP) $@
	@echo Finished Clean
